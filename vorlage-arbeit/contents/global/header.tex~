% Copyright (C)  2013 Jana Traue (jana.traue[at]tu-cottbus.de)
%
% Permission is granted to copy, distribute and/or modify this document
% under the terms of the GNU Free Documentation License, Version 1.3
% or any later version published by the Free Software Foundation;
% with no Invariant Sections, no Front-Cover Texts, and no Back-Cover Texts.
% A copy of the license is included in the file entitled "LICENSE".
%
% ==============================================================================
% LATEX header file
% ==============================================================================
%
% ==============================================================================
% document class
% ==============================================================================
\RequirePackage{fix-cm}		% fix support for modern type fonts
\documentclass[%
	paper=a4,				% use a4 paper
	BCOR10mm,				% width of border for printing
	DIV=13,					% proportion for empty and non-empty parts of a page
	%headinclude,			% include header in typearea calculation
	%footinclude,			% include footer in typearea calculation
	%oneside,				% one sided printing
	twoside,				% two sided printing
    cleardoublepage=empty,	% empty backsides for two sided printing
	titlepage,				% support for title environment
	%pointednumbers,		% numbers (in headlines) with ending points
	pointlessnumbers,		% numbers (in headlines) without ending points
	%parskip=half,			% a half line beetwen paragraphs
	%parintend=false,		% indentation and no skip between paragraphs
	%chapterprefix,			% chapter names with prefix "Chapter"
	chapterprefix=false,	% chapter names without prefix "Chapter"
	%headsepline,			% line below header
	%footsepline,			% line above footer
	%smallheadings,			% size of header is small
	normalheadings,			% size of header is normal
	%bigheadings,			% size of header is large
	bibtotoc,				% include bibliography in table of contents
	%bibtotocnumbered,		% include bibliography in table if contents (numbered)
	liststotoc,				% include lists in table of contents
	%liststotocnumbered,	% include lists in table of contents (numbered)
	idxtotoc,				% include index in table if contents
	fontsize=12pt,			% fontsize in points
	pagesize=pdftex,		% define typearea for pdftex usage
	%pagesize=dvips,		% define typearea for dvi/ps usage
]{scrbook}					% class of the document
%
%
\setlength{\parskip}{0.3em}
\setlength{\parindent}{0em}
\setlength{\belowcaptionskip}{-5mm} %caption和下方文字的距离
\usepackage[margin=25mm,headheight=0mm]{geometry}
\usepackage{CJKutf8} %中文支持
\usepackage{multirow}
%\usepackage{showframe} 
%==============================================================================
% include packages
% ==============================================================================
%
% support for choosing language
\usepackage{comment}
%\includecomment{en}
%\excludecomment{de}
\excludecomment{en}
\includecomment{de}
%
% ------------------------------------------------------------------------------
% a couple of latex fixes
\usepackage{fixltx2e}
\usepackage{helvet}
%
% ------------------------------------------------------------------------------
% character encoding and fonts for the document
% \usepackage[latin1]{inputenc}	% ansi coding - for english
\usepackage[utf8]{inputenc}	    % ansi coding - for english
\usepackage[T1]{fontenc}		% t1 fonts
\usepackage[T1]{url}			% web adresses with t1 style
\urlstyle{tt}					% web adresses in tt-style
\usepackage{lmodern}
\usepackage{times}              % times new roman font
%
% ------------------------------------------------------------------------------
% packages for layout
\usepackage{microtype}
\usepackage{setspace}			% support different line spacings
\usepackage{multicol}			% support multiple columns
%\usepackage[section]{placeins}	% insert floatbarriers before each section
\usepackage{ellipsis}			% corrects wrong spaces after dots
\usepackage{enumerate}
%%\usepackage{german}
\usepackage{eurosym}
%
% ------------------------------------------------------------------------------
% language localisation and quotes depending on language
\begin{de}
    \usepackage[ngerman]{babel}			% german with new ortography
\end{de}
\begin{en}
    \usepackage[english, UKenglish]{babel}	% english language
\end{en}
%
% ------------------------------------------------------------------------------
% bibliography
\usepackage[round, comma, sort,authoryear]{natbib}	% support for different bib styles
\usepackage{bibgerm}                        % support for geman bibs
\setlength{\bibsep}{1.0\baselineskip}		% adjust spacing of entries for natbib
%Übersetzung des Literaturverzeichnisses
%\newcommand{\literaturverz}[1]{
	%Autorenverknüpfung mit "und"
%	\renewcommand{\harvardand}{und}
%	\bibliography{#1}
%}
%
% ------------------------------------------------------------------------------
% qoutes
\usepackage[english=american]{csquotes}		% american style qoutes
%
% ------------------------------------------------------------------------------
% mathematical
\usepackage{amsmath}
\usepackage{amsfonts}
%
% ------------------------------------------------------------------------------
% pdf creation
\usepackage[%
	pdftitle={Document title},	            			%
	pdfsubject={e.g. Document type},        		    %
	pdfauthor={Jana Traue},	            				% let's take a look who reads the instructions ;)
	pdfkeywords={some keywords},						% separate them with commas
    pdfcreator={LaTeX with hyperref and KOMA-Script},   %
	colorlinks,								            %
	urlcolor=blue,							            %
	citecolor=red,							            %
	linkcolor=blue,							            %
	breaklinks=true,						            %
	pdfpagemode=UseOutlines,				            %
	plainpages=false,						            %
	pdfpagelabels,							            %
	bookmarksnumbered,						            %
	pdfstartview=FitV,						            %
	pdfpagelayout=SinglePage,				            %
	pdfdisplaydoctitle=true					            %
]{hyperref}
%
% ------------------------------------------------------------------------------
% graphics
\usepackage{color}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{flafter}	% never insert figure before the reference
\usepackage{tikz}
\usetikzlibrary{positioning,shapes,chains,snakes,fit,matrix}
\usepackage{bytefield}  % for painting byte and bit fields
%
% ------------------------------------------------------------------------------
% acronyms
\usepackage[printonlyused]{acronym}
%
% ------------------------------------------------------------------------------
% listings
\usepackage{moreverb}		% include listings
\usepackage{listings}		% include listings
%
% ------------------------------------------------------------------------------
% tables 
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{ltxtable}
\usepackage{arydshln}   % gestrichelte Linien in Tabellen
\usepackage{booktabs}   % toprule, midrule in Tabellen
%
% hypothesis
\usepackage{ntheorem}
\newtheorem{hyp}{Hypothese}
%
% ==============================================================================
% settings
% ==============================================================================
%
\definecolor{LinkColor}{rgb}{0,0,0.5}
\definecolor{CustomColorDark}{rgb}{0,0.38,0.55}
\definecolor{CustomColorLight}{rgb}{1, 1, 1}
\definecolor{CustomColorLightBackground}{rgb}{0.9,0.9,0.86}
%
\setcapindent{1em}		% line break for figure descriptions
%\pagestyle{headings}	% headers with page title
\linespread{1.2}		% line spreading
\typearea[current]{last}		% recalculate type area
%
%%LaTeX's figure placement algorithm is quite biased in favor of putting figures on a page by themselves, instead of on the top of a page with some text below it. Often, the result is esthetically unappealing (to be polite). Fortunately, the parameters of the algorithm can be changed. The main problem is that LaTeX per default only allows a part of the top of a text-page (70%) to contain figures, and requires at least 20% of a page to be text when text and figures share a page. These parameters should be set to more reasonable values, for example 85% and 10%.
%\renewcommand{\topfraction}{0.85}
%\renewcommand{\textfraction}{0.1}
%%
%%This helps, but sometimes LaTeX puts a figure on a page by itself, although it would fit perfectly well on the top of a page. This happens when the figure will not fit on the page where it was defined. LaTeX then attempts to put it on a figures-only page before it attempts to put it at the top of the next page. A page may contain figures alone if the figure(s) use at least half the page. To prevent half-empty pages this limit should probably be increased to around 75%.
%%Be careful not to make \floatpagefraction larger than \topfraction, then you risk to produce a figure that can neither go on the top of a text page, nor on a page by itself. If that happens, the figure and all later figures will be postponed until next time a \clearpage is executed (typically at the end of a chapter or the end of the document). This will also happen if a figure is too large to fit on a page.
%\renewcommand{\floatpagefraction}{0.75}
%%LaTeX's figure placement algorithm is quite biased in favor of putting figures on a page by themselves, instead of on the top of a page with some text below it. Often, the result is esthetically unappealing (to be polite). Fortunately, the parameters of the algorithm can be changed. The main problem is that LaTeX per default only allows a part of the top of a text-page (70%) to contain figures, and requires at least 20% of a page to be text when text and figures share a page. These parameters should be set to more reasonable values, for example 85% and 10%.
%\renewcommand{\topfraction}{0.85}
%\renewcommand{\textfraction}{0.1}
%
%%This helps, but sometimes LaTeX puts a figure on a page by itself, although it would fit perfectly well on the top of a page. This happens when the figure will not fit on the page where it was defined. LaTeX then attempts to put it on a figures-only page before it attempts to put it at the top of the next page. A page may contain figures alone if the figure(s) use at least half the page. To prevent half-empty pages this limit should probably be increased to around 75%.
%%Be careful not to make \floatpagefraction larger than \topfraction, then you risk to produce a figure that can neither go on the top of a text page, nor on a page by itself. If that happens, the figure and all later figures will be postponed until next time a \clearpage is executed (typically at the end of a chapter or the end of the document). This will also happen if a figure is too large to fit on a page.
\renewcommand{\floatpagefraction}{0.75}
%
% ------------------------------------------------------------------------------
% captions
%
\usepackage[font=small]{caption}
%
% ------------------------------------------------------------------------------
% listings
%
\definecolor{javared}{rgb}{0.6,0,0} % for strings
\definecolor{javagreen}{rgb}{0.25,0.5,0.35} % comments
\definecolor{javapurple}{rgb}{0.5,0,0.35} % keywords
\definecolor{javadocblue}{rgb}{0.25,0.35,0.75} % javadoc
%
\lstloadlanguages{Python}
%
% new keywords for EMMA
\lstdefinelanguage[EMMA]{Python}%
    []{Python}
{%
    morekeywords={%
        apply, applyUnscheduled,
        map, mapUnscheduled,
        reduce, reduceUnscheduled,
        m2f
    }%
}
%
\lstset{%
    language=[EMMA]Python,
    basicstyle=\small\ttfamily,
    keywordstyle=\color{javapurple}\bfseries,
    stringstyle=\color{javared},
    emphstyle=\textit,
    commentstyle=\color{javagreen},
    morecomment=[s][\color{javadocblue}]{/**}{*/},
    numbers=left,
    numberstyle=\tiny\color{black},
    stepnumber=1,
    numbersep=5pt,
 	breaklines=true,         	% Zeilen umbrechen wenn notwendig.
 	breakautoindent=true,    	% Nach dem Zeilenumbruch Zeile einr?cken.
 	postbreak=\space,        	% Bei Leerzeichen umbrechen.
    tabsize=4,
    showspaces=false,
    showstringspaces=false,
  	xleftmargin=17pt, 			% left margin where linenumbers and frames do start
    framexleftmargin=17pt, 		% left margin of frame (which will be colored)
    framesep=0pt,
    belowcaptionskip=0pt,
    captionpos=b,
    framerule=1pt
    % frame=shadowbox
}
%
%
% ------------------------------------------------------------------------------
% todo notes 
%
\usepackage[colorinlistoftodos]{todonotes}
%
% ==============================================================================
% custom commands
% ==============================================================================
%
%
% ------------------------------------------------------------------------------
% for source code
%
\newcommand{\package}[1]{\textbf{#1}}
\newcommand{\code}[1]{\texttt{#1}}
%
% \EMMA wird im Text durch EMMA ersetzt
% Im normalen Text muss ein Leerzeichen folgen, es sei denn es ist das letzte
% Wort vor einem Satzzeichen. Dass dies richtig erkannt wird, macht das xspace.
\newcommand{\EMMA}{\ac{EMMA}\xspace}
%
%
% ==============================================================================
% hyphenations
% ==============================================================================
%
\hyphenation{video-conference-system super-user}
\hyphenation{meta-model}
%

